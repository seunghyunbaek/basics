# 프래그먼트

프래그먼트는 부분화면을 독립적으로 만들어주며 액티비티를 그대로 본떠 만든 것이다.  

액티비티를 보면 액티비티는 시스템에서 관리하니까 각각이 독립적입니다. 그래서 각각의 독립적인 거를 시스템이 요청하면 뜨고, 다른사람이 만든 화면인 경우에도 요청하면 뜨게 만들어줬습니다.  

그래서 프래그먼트를 액티비티를 본떠서 만들었다는 말은 이 프래그먼트도 액티비티처럼 내가 프래그먼트를 여러 개 만들었다고해서 다른 프래그먼트에 직접 접근할 수 없습니다. 왜? 액티비티처럼 만들었기 때문에.  

하나의 액티비티에서 다른 액티비티 띄우려고 하면 시스템 쪽으로 요청합니다. 시스템에는 액티비티 매니저라는게 있습니다. 그래서 시스템이 알아먹을 수 있는 인텐트라는 걸 만들어서 요청을 합니다.  

프래그먼트도 마찬가지로 이 하나의 액티비티라고 하는 화면 위에서 프래그먼트라는 걸 구성하게 되면 프래그먼트 매니저라고 하는게 이걸 관리하게 돼있습니다. 그래서 하나의 프래그먼트에서 다른 프래그먼트를 띄울 때도 프래그먼트 매니저한테 요청하는 식으로 가야합니다.  

그럼 프래그먼트 매니저는 어디에 있냐면 액티비티 안에 존재하게 됩니다. 액티비티가 시스템 위에서 동작하는 것처럼 프래그먼트도 이 액티비티 위에 올라가야 프래그먼트로서 동작할 수 있습니다. 이걸 잘 기억해야 합니다.  

프래그먼트는 액티비티를 그대로 본 떠서 만들었고, 사용 방법도 액티비티를 사용하는 방법과 상당히 유사하다는 거를 생각하면 이해하는데 도움이 될 겁니다.

프래그먼트는 액티비티 위에서 동작하고 하나의 프래그먼트에서 다른 프래그먼트로 직접 접근할 수 없는데, 액티비티는 인텐트를 이용해서 액티비티 매니저에 요청을 할 수 있었는데 프래그먼트의 경우는 액티비티 위에서 동작하기 때문에 인텐트를 쓸 수가 없습니다. 그래서 우리가 메서드를 정의하고 액티비티에 프래그먼트에서 액티비티 메서드를 호출하는 방식 그다음에 프래그먼트에 메서드를 정의해놓고 액티비티에서 그 메서드를 호출하는 방식으로 처리를 하게 됩니다.  

그리고 프래그먼트가 부분화면이긴한데 액티비티 화면 전체를 채우도록 부분화면의 영역을 넓히면 하나의 액티비처럼 보이게 됩니다. 그리고 다른 프래그먼트하고 교체하면 어떻게 될까요? 액티비티 자체는 바뀌지 않는데 프래그먼트가 화면전환 효과를 만들어냅니다. 그럼 어떤 장점이 생길까요? 액티비티는 시스템에서 관리하니까 그만큼 리소스를 많이 먹습니다. 그러니까 좀 무겁다고 할 수 있어요. 근데 프래그먼트는 액티비티는 그대로 두고 전환이 되니까 사용자가 볼 때는 똑같이 화면전환하는 효과가 나지만 결국엔 뭐에요? 실제는 훨씬 가볍게 전환할 수 있다는 장점이 생깁니다.  
그리고 액티비티라고 하는게 따로 또 뜨지 않으니까 시스템에서 막 접근하지 않으니까 보안면에서도 좀 더 나은 장점들이 생기게 됩니다.  

그렇다고 꼭 프래그먼트만 쓰는게 좋다고 하는건 아닙니다.  
어쨌든 액티비티를 여러 개 써서 전환을 하는 방법도 있지만 프래그먼트를 전체 화면으로 보이게 하고 전환하는 방법도 있다고 생각하면 됩니다.  

그 다음 프래그먼트라고 하는 것도 화면 레이아웃을 잡으니까 .xml 레이아웃을 레이아웃으로 잡고 그 다음에 그 기능은 자바 소스파일로 구성을 합니다. 그래서 액티비티처럼 xml레이아웃 파일 하나와 자바 소스 파일 하나로 쌍으로 구성됩니다.  
그럼 xml 레이아웃 파일을 프래그먼트 쪽으로 연결시켜주는 인플레이션 과정을 해주게 되는데 setContentView 라고 하는 건 액티비티에만 있어서 직접 인플레이션 과정을 진행해야 합니다.  
